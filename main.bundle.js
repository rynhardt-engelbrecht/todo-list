(()=>{var t={208:(t,e,n)=>{"use strict";n.d(e,{A:()=>g});var r=n(601),o=n.n(r),i=n(314),a=n.n(i),c=n(417),s=n.n(c),l=new URL(n(632),n.b),d=new URL(n(627),n.b),u=new URL(n(932),n.b),p=a()(o()),b=s()(l),f=s()(d),m=s()(u);p.push([t.id,`:root {\n  --background-color: rgb(42, 68, 78);\n  --secondary-bg-color: rgb(21, 48, 48);\n  --tertiary-bg-color: rgb(11, 26, 26);\n  --primary-text-color: rgb(221, 245, 255);\n  --1-priority-color: rgb(146, 56, 20);\n  --2-priority-color: rgb(146, 102, 20);\n  --3-priority-color: rgb(112, 146, 20);\n  --4-priority-color: rgb(14, 112, 83);\n}\n\nhtml,\nbody {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n\nbody {\n  display: grid;\n  grid-template-columns: 1fr 3fr;\n  grid-template-rows: 1fr 6fr;\n\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n\n  background-color: var(--tertiary-bg-color);\n  color: var(--primary-text-color);\n\n  position: relative;\n}\n\n\n#project-tab {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 1.4rem;\n\n  font-size: 28px;\n\n  background-color: var(--secondary-bg-color);\n}\n\n#project-list-header {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  font-size: 2.2rem;\n  text-decoration: underline;\n}\n\n#project-list-container {\n  position: relative;\n\n  display: flex;\n  flex-direction: column;\n}\n\n#project-list {\n  padding: 1.4rem;\n\n  flex: 1 0 0;\n  display: flex;\n  flex-direction: column;\n  gap: 1em;\n\n  overflow-y: auto;\n  scrollbar-width: none;\n}\n\n#project-list::-webkit-scrollbar {\n  display: none;\n}\n\n.project-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 1rem;\n\n  border: 1px solid var(--primary-text-color);\n  border-radius: 0.4em;\n}\n\n.project-item .project-title {\n  cursor: pointer;\n}\n\n.active-project {\n  border-width: 4px;\n\n  font-weight: bold;\n  background-color: rgba(221, 245, 255, 0.12);\n}\n\n#task-list {\n  padding: 1.4rem;\n\n  font-size: 18px;\n\n  background-color: var(--background-color);\n\n  display: flex;\n  flex-direction: column;\n  gap: 0.8em;\n\n  overflow-y: auto;\n  scrollbar-width: none;\n}\n\n#task-list::-webkit-scrollbar {\n  display: none;\n}\n\n.task-item {\n  display: grid;\n  grid-template-areas:\n  "task-title . . task-date task-check option-panel"\n  "task-desc . . . . task-prio";\n\n  gap: 0.4em;\n  padding: 1.8rem;\n\n  border: 1px solid var(--primary-text-color);\n  border-radius: 0.4em;\n\n  position: relative;\n}\n\n.task-item.complete {\n  opacity: 0.36;\n}\n\n.task-item[data-prio="1"] {\n  background-color: var(--1-priority-color);\n}\n\n.task-item[data-prio="2"] {\n  background-color: var(--2-priority-color);\n}\n\n.task-item[data-prio="3"] {\n  background-color: var(--3-priority-color);\n}\n\n.task-item[data-prio="4"] {\n  background-color: var(--4-priority-color);\n}\n\n.task-item * {\n  justify-self: center;\n  align-self: center;\n}\n\n.task-title {\n  grid-area: task-title;\n  grid-column: span 2;\n  max-width: calc((100% / 3) * 2);\n  overflow-x: hidden;\n\n  justify-self: flex-start;\n}\n\n.task-desc {\n  grid-area: task-desc;\n\n  justify-self: flex-start;\n\n  position: absolute;\n  top: 0px;\n\n  color: var(--tertiary-bg-color);\n}\n\n.task-date {\n  grid-area: task-date;\n\n  justify-self: flex-end;\n}\n\n.task-prio {\n  grid-area: task-prio;\n\n  box-sizing: content-box;\n  position: relative;\n\n  border: 1px solid var(--primary-text-color);\n  border-radius: 0.4em;\n}\n\n.task-prio select {\n  appearance: none;\n\n  width: 2.6em;\n  height: 1.8em;\n\n  padding: 0.1em 0.2em;\n\n  border: none;\n\n  background-color: inherit;\n\n  color: var(--primary-text-color);\n  font-size: 1rem;\n  font-weight: bold;\n\n  cursor: pointer;\n}\n\n.task-prio select:focus {\n  outline: none;\n}\n\n/* need to figure out why these psuedo-elements won't show up */\n\n.task-prio::before {\n  content: 'priority:';\n  display: block;\n  position: absolute;\n\n  color: var(--primary-text-color);\n\n  top: 10%;\n  left: -180%;\n}\n\n.task-prio::after {\n  content: '\\25BC';\n  display: block;\n  position: absolute;\n\n  color: var(--primary-text-color);\n\n  top: 46%;\n  right: 8px;\n  transform: translateY(-50%);\n  pointer-events: none;\n}\n\n.task-prio option {\n  background-color: var(--background-color);\n\n  font-weight: bold;\n}\n\n.task-check {\n  grid-area: task-check;\n\n  appearance: none;\n\n  width: 1.6em;\n  height: 1.6em;\n\n  border: 2px solid var(--primary-text-color);\n  border-radius: 50%;\n\n  justify-self: flex-start;\n\n  position: relative;\n  cursor: pointer;\n}\n\n.task-check:checked::before {\n  content: '';\n  display: block;\n\n  width: 0.6em;\n  height: 0.6em;\n\n  border-radius: 50%;\n  background-color: var(--primary-text-color);\n\n  position: absolute;\n\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.option-panel {\n  grid-area: option-panel;\n\n  display: flex;\n  justify-content: space-between;\n  gap: 0.4em;\n}\n\n.option-panel button,\n#add-project-container button {\n  width: 2em;\n  height: 2em;\n\n  background: none;\n\n  padding: 1em;\n\n  /* border: 1px solid var(--primary-text-color); */\n  border: none;\n\n  cursor: pointer;\n}\n\n#add-project-container {\n\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  background-color: inherit;\n\n  padding: 1em 0 1em 0;\n}\n\nbutton:hover::after {\n  position: absolute;\n\n  top: 140%;\n  left: 50%;\n\n  transform: translateX(-50%);\n\n  font-weight: bold;\n\n  color: var(--primary-text-color);\n  background-color: var(--background-color);\n\n  padding: 0.4em 0.8em;\n\n  border: 1px solid var(--primary-text-color);\n  border-radius: 0.4em;\n  box-shadow: 1 0.1em 0.2em var(--secondary-bg-color);\n\n  z-index: 999;\n}\n\nbutton#add-task-btn,\nbutton#add-project-btn {\n  background: url(${b});\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  position: relative;\n}\n\nbutton#add-project-btn:hover::after {\n  content: 'Add Project';\n\n  top: -180%;\n}\n\nbutton.edit-btn {\n  background: url(${f});\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  position: relative;\n}\n\nbutton.delete-btn {\n  background: url(${m});\n  background-size: contain;\n  background-repeat: no-repeat;\n\n  position: relative;\n}\n\nbutton#add-task-btn:hover::after {\n  content: 'Add Task';\n}\n\nbutton.edit-btn:hover::after {\n  content: 'Edit';\n}\n\nbutton.delete-btn:hover::after {\n  content: 'Delete';\n}\n\n.hidden {\n  display: none;\n}\n\n.task-form {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  width: 600px;\n  height: 100px;\n\n  transform: translate(-50%, -50%);\n\n  background-color: var(--primary-text-color);\n  color: var(--tertiary-bg-color);\n\n  border: 1px solid var(--tertiary-bg-color);\n  border-radius: 0.4em;\n\n  padding: 1.2em;\n\n  display: grid;\n  grid-template-columns: repeat(2, 6fr) 1fr;\n  gap: 1.4em;\n}\n\n.task-form label,\n.project-form label {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.task-title-label {\n  grid-column: 1 / 2;\n}\n\n.task-desc-label {\n  grid-column: 1 / 2;\n}\n\n.task-date-label {\n  grid-column: 2 / 3;\n  grid-row: 1 / 2;\n}\n\n.task-form label *,\n.project-form label * {\n  margin-left: 1em;\n\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  color: var(--tertiary-bg-color);\n}\n\n.task-form label input[type="text"] {\n  width: 160px;\n}\n\n.task-form .submit-btn,\n.task-form .cancel-btn {\n  width: 2.4em;\n  height: 2em;\n\n  justify-self: center;\n  align-self: center;\n\n  grid-column: 3 / 4;\n\n  cursor: pointer;\n}\n\n.project-form .submit-btn,\n.project-form .cancel-btn {\n  width: 2.4em;\n  height: 2em;\n\n  justify-self: center;\n  align-self: center;\n\n  grid-column: 3 / 4;\n\n  cursor: pointer;\n}\n\n.task-form .cancel-btn,\n.project-form .cancel-btn {\n  grid-row: 1 / 2;\n\n  font-weight: bold;\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n}\n\n.project-form {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n\n  transform: translate(-50%, -50%);\n\n  background-color: var(--primary-text-color);\n  color: var(--tertiary-bg-color);\n\n  border: 1px solid var(--tertiary-bg-color);\n  border-radius: 0.4em;\n\n  padding: 1.2em;\n\n  display: grid;\n  grid-template-columns: 6fr 1fr;\n  gap: 1.4em;\n}\n`,""]);const g=p},314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,o,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(a[s]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);r&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},417:t=>{"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},601:t=>{"use strict";t.exports=function(t){return t[1]}},224:function(t,e,n){t=n.nmd(t),function(n,r){"use strict";var o={};n.PubSub?(o=n.PubSub,console.warn("PubSub already loaded, using existing version")):(n.PubSub=o,function(t){var e={},n=-1,r="*";function o(t,e,n){try{t(e,n)}catch(t){setTimeout(function(t){return function(){throw t}}(t),0)}}function i(t,e,n){t(e,n)}function a(t,n,r,a){var c,s=e[n],l=a?i:o;if(Object.prototype.hasOwnProperty.call(e,n))for(c in s)Object.prototype.hasOwnProperty.call(s,c)&&l(s[c],t,r)}function c(t){var n=String(t);return Boolean(Object.prototype.hasOwnProperty.call(e,n)&&function(t){var e;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!0;return!1}(e[n]))}function s(t,e,n,o){var i=function(t,e,n){return function(){var o=String(t),i=o.lastIndexOf(".");for(a(t,t,e,n);-1!==i;)i=(o=o.substr(0,i)).lastIndexOf("."),a(t,o,e,n);a(t,r,e,n)}}(t="symbol"==typeof t?t.toString():t,e,o);return!!function(t){for(var e=String(t),n=c(e)||c(r),o=e.lastIndexOf(".");!n&&-1!==o;)o=(e=e.substr(0,o)).lastIndexOf("."),n=c(e);return n}(t)&&(!0===n?i():setTimeout(i,0),!0)}t.publish=function(e,n){return s(e,n,!1,t.immediateExceptions)},t.publishSync=function(e,n){return s(e,n,!0,t.immediateExceptions)},t.subscribe=function(t,r){if("function"!=typeof r)return!1;t="symbol"==typeof t?t.toString():t,Object.prototype.hasOwnProperty.call(e,t)||(e[t]={});var o="uid_"+String(++n);return e[t][o]=r,o},t.subscribeAll=function(e){return t.subscribe(r,e)},t.subscribeOnce=function(e,n){var r=t.subscribe(e,(function(){t.unsubscribe(r),n.apply(this,arguments)}));return t},t.clearAllSubscriptions=function(){e={}},t.clearSubscriptions=function(t){var n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&delete e[n]},t.countSubscriptions=function(t){var n,r,o=0;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)){for(r in e[n])o++;break}return o},t.getSubscriptions=function(t){var n,r=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t)&&r.push(n);return r},t.unsubscribe=function(n){var r,o,i,a="string"==typeof n&&(Object.prototype.hasOwnProperty.call(e,n)||function(t){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&0===n.indexOf(t))return!0;return!1}(n)),c=!a&&"string"==typeof n,s="function"==typeof n,l=!1;if(!a){for(r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(o=e[r],c&&o[n]){delete o[n],l=n;break}if(s)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&o[i]===n&&(delete o[i],l=!0)}return l}t.clearSubscriptions(n)}}(o)),void 0!==t&&t.exports&&(e=t.exports=o),e.PubSub=o,t.exports=e=o}("object"==typeof window&&window||this)},72:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var i={},a=[],c=0;c<t.length;c++){var s=t[c],l=r.base?s[0]+r.base:s[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var p=n(u),b={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(b);else{var f=o(b,r);r.byIndex=c,e.splice(c,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var i=r(t=t||[],o=o||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var c=n(i[a]);e[c].references--}for(var s=r(t,o),l=0;l<i.length;l++){var d=n(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=s}}},659:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},632:(t,e,n)=>{"use strict";t.exports=n.p+"2ff9a0dffb1b96fa3606.png"},932:(t,e,n)=>{"use strict";t.exports=n.p+"fec40be1e8f12d70fa0e.png"},627:(t,e,n)=>{"use strict";t.exports=n.p+"9bba04f3e3f40495cd20.png"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var t=n(72),e=n.n(t),r=n(825),o=n.n(r),i=n(659),a=n.n(i),c=n(56),s=n.n(c),l=n(540),d=n.n(l),u=n(113),p=n.n(u),b=n(208),f={};f.styleTagTransform=p(),f.setAttributes=s(),f.insert=a().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=d(),e()(b.A,f),b.A&&b.A.locals&&b.A.locals;const m=n(224),g=class{constructor(t="",e="",n=new Date,r=1){const o=k.getActiveProject();o?(this.title=t,this.desc=e,this.dueDate=n,this.prio=r,this.isChecked=!1,this.id=this.createID(o),m.publish("newTask",this),o.taskList.push(this),m.publish("updateTaskList",o)):console.error("task creation failed")}createID(t){const e=t.taskList;return e.length>0?e[e.length-1].id+1:0}static updateInfo(t,e,n,r,o){return t.title=e,t.desc=n,t.dueDate=r,t.prio=o,t}static updatePrio(t,e){return t.prio=e,t}static updateChecked(t,e){return t.isChecked=e,t}},y=n(224),h=class{constructor(t="",e=[]){this.title=t,this.taskList=e,this.id=this.createID(),y.publish("newProject",this),y.publish("activeProjectChange",this)}createID(){const t="undefined"===localStorage.getItem("project-list")?"null":localStorage.getItem("project-list"),e=JSON.parse(t);return e&&e.length>0?e[e.length-1].id+1:0}static updateTitle(t,e){t.title=e}},v=n(224),k=(()=>{const t=function(t,r){const a=r.querySelector(".option-panel"),c=a.querySelector(".edit-btn"),s=a.querySelector(".delete-btn");c.addEventListener("click",(t=>{if("task"===r.getAttribute("data-type")){const t=i(),e=t.taskList[t.taskList.findIndex((t=>t.id==r.getAttribute("data-id")))],n=S.createTaskForm(e.title,e.desc,e.dueDate,e.prio);v.publish("editTaskFormCreated",{task:e,form:n})}else if("project"===r.getAttribute("data-type")){const t=o(),e=t[t.findIndex((t=>t.id==r.getAttribute("data-id")))],n=S.createProjectForm(e.title);v.publish("editProjectFormCreated",{project:e,form:n})}})),s.addEventListener("click",(t=>{const o=r;if("task"===o.getAttribute("data-type")){const t=i();t.taskList=t.taskList.filter((t=>`${t.id}`!==o.getAttribute("data-id"))),e("",t)}else"project"===o.getAttribute("data-type")&&n("",o.getAttribute("data-id"));o.remove()}))},e=function(t,e){const n=o();n[n.findIndex((t=>t.id===e.id))]=e,localStorage.setItem("project-list",JSON.stringify(n))},n=function(t,e){const n=o(),r=i(),a=n[n.findIndex((t=>t.id==e))],c=n.filter((t=>t.id!=e));localStorage.setItem("project-list",JSON.stringify(c)),r&&r.id===a.id&&v.publish("activeProjectChange",null)},r=function(t,e){document.querySelectorAll(".active-project").forEach((t=>{t.classList.remove("active-project")})),localStorage.setItem("active-project",JSON.stringify(e)),e&&document.querySelector(`.project-item[data-id="${e.id}"`).classList.add("active-project")};return{getActiveProject:i,getProjectList:o,subscriptions:[v.subscribe("newTaskElement",(function(t,e){const n=e.querySelector(".task-prio select");n.addEventListener("change",(()=>{const t=i();let r=t.taskList,o=r.find((t=>t.id==e.getAttribute("data-id")));o=g.updatePrio(o,n.value),t.taskList[r.findIndex((t=>t.id==e.getAttribute("data-id")))]=o,v.publish("updateTaskList",t);const a=n.value;e.setAttribute("data-prio",a)}))})),v.subscribe("newTaskElement",(function(t,e){const n=e.querySelector(".task-check"),r=e.querySelector(".task-prio select");n.addEventListener("change",(()=>{const t=i();let o=t.taskList,a=o.find((t=>t.id==e.getAttribute("data-id")));a=g.updateChecked(a,n.checked),t.taskList[o.findIndex((t=>t.id==e.getAttribute("data-id")))]=a,v.publish("updateTaskList",t),e.classList.toggle("complete"),r.disabled?r.disabled=!1:r.disabled=!0}))})),v.subscribe("newTaskElement",t),v.subscribe("newProjectElement",t),v.subscribe("newProjectElement",(function(t,e){e.querySelector(".project-title").addEventListener("click",(t=>{const n=o(),r=n[n.findIndex((t=>t.id==e.getAttribute("data-id")))];v.publish("activeProjectChange",r)}))})),v.subscribe("taskFormCreated",(function(t,e){const n=e.querySelector(".cancel-btn"),r=e.querySelector(".submit-btn");n.addEventListener("click",(t=>{t.preventDefault(),e.remove()})),r.addEventListener("click",(t=>{t.preventDefault();const n=e.querySelector("#title").value,r=e.querySelector("#desc").value,o=e.querySelector("#date").value,i=e.querySelector("#prio").value;new g(n,r,new Date(o),i,!1,0),e.remove()}))})),v.subscribe("projectFormCreated",(function(t,e){const n=e.querySelector(".cancel-btn"),r=e.querySelector(".submit-btn");n.addEventListener("click",(t=>{t.preventDefault(),e.remove()})),r.addEventListener("click",(t=>{t.preventDefault();const n=e.querySelector("#title").value;new h(n),e.remove()}))})),v.subscribe("newProject",(function(t,e){let n=o();n?n.push(e):n=[e],localStorage.setItem("project-list",JSON.stringify(n))})),v.subscribe("activeProjectChange",r),v.subscribe("updateTaskList",e),v.subscribe("updateTaskList",r),v.subscribe("editTaskFormCreated",(function(t,e){const n=e.form.querySelector(".cancel-btn"),r=e.form.querySelector(".submit-btn");n.addEventListener("click",(t=>{t.preventDefault(),e.form.remove()})),r.addEventListener("click",(t=>{t.preventDefault(),function(t,e){const n=e.querySelector("#title").value,r=e.querySelector("#desc").value,o=e.querySelector("#date").value,a=e.querySelector("#prio").value,c=i(),s=c.taskList,l=s.find((e=>e.id==t.id));g.updateInfo(l,n,r,o,a);const d=s.findIndex((e=>e.id==t.id));c.taskList[d]=l,v.publish("updateTaskList",c),v.publish("updateTaskDOM",l)}(e.task,e.form),e.form.remove()}))})),v.subscribe("editProjectFormCreated",(function(t,e){const n=e.form.querySelector(".cancel-btn"),r=e.form.querySelector(".submit-btn");n.addEventListener("click",(t=>{t.preventDefault(),e.form.remove()})),r.addEventListener("click",(t=>{t.preventDefault(),function(t,e){const n=e.querySelector("#title").value,r=o(),a=r.find((e=>e.id==t.id));h.updateTitle(a,n);const c=r.findIndex((e=>e.id==t.id));r[c]=a,i().id==a.id&&v.publish("activeProjectChange",a),v.publish("updateProjectInfo",a),v.publish("updateProjectDOM",a)}(e.project,e.form),e.form.remove()}))})),v.subscribe("updateProjectInfo",e)]};function o(){const t="undefined"===localStorage.getItem("active-project")?"null":localStorage.getItem("project-list");return JSON.parse(t)}function i(){const t="undefined"===localStorage.getItem("active-project")?"null":localStorage.getItem("active-project");return JSON.parse(t)}})(),j=n(224),x=function(){const t=function(t,e){const n=document.querySelector("#task-list"),l=function(t){const e=i("","task-item"),n=o(),l=i("","task-prio","span"),d=s([1,2,3,4],"",t.prio),u=a(t.isChecked,"task-check","checkbox");l.appendChild(d),t.isChecked&&(e.classList.add("complete"),u.checked=!0,d.disabled=!0);return[i(t.title,"task-title"),c(t.desc,"task-desc",!0),i(r(t.dueDate),"task-date"),l,u,n].forEach((t=>{e.appendChild(t)})),e.setAttribute("data-id",t.id),e.setAttribute("data-prio",t.prio),e}(e);return l.setAttribute("data-type","task"),n.appendChild(l),j.publish("newTaskElement",l),l},e=function(t,e){const n=document.querySelector("#project-list"),r=function(t){const e=i("","project-item"),n=o();return[i(t.title,"project-title"),n].forEach((t=>{e.appendChild(t)})),e.setAttribute("data-id",t.id),e}(e);return r.setAttribute("data-type","project"),n.appendChild(r),j.publish("newProjectElement",r),r},n=function(e,n){const r=document.querySelector("#task-list"),o=document.querySelector("#project-title");if(document.querySelector("#project-options").classList.add("hidden"),o.textContent="No Project Selected",r.innerHTML="",n){const e=n.taskList;e&&e.forEach((e=>{t(0,e)})),document.querySelector("#project-tab .option-panel").classList.remove("hidden"),o.textContent=n.title;const r=document.querySelector(`.project-item[data-id="${n.id}"]`);r&&r.classList.add("active-project")}};return{startUpDOM:function(){let t=localStorage.getItem("project-list");t="undefined"===t?"null":t;let r=localStorage.getItem("active-project");r="undefined"===r?"null":r;const o=JSON.parse(t),i=JSON.parse(r);o&&o.forEach((t=>{e(0,t)})),n(0,i)},createTaskForm:function(t="New Task",e="Do Stuff",n=new Date,r=1){const o=i("","task-form","form");o.setAttribute("action","#"),o.setAttribute("method","post");const c=i("Title","task-title-label","label"),l=a(t,"task-title-input");l.id="title",c.setAttribute("for",l.id),l.setAttribute("name",l.id),c.appendChild(l);const d=i("Description","task-desc-label","label"),u=a(e,"task-desc-input");u.id="desc",d.setAttribute("for",u.id),u.setAttribute("name",u.id),d.appendChild(u);const p=i("Due Date","task-date-label","label"),b=a(n,"task-date-input","date");b.id="date",p.setAttribute("for",b.id),b.setAttribute("name",b.id),p.appendChild(b);const f=i("Priority Level","task-prio-label","label"),m=s([1,2,3,4],"task-prio-input",r);m.id="prio",f.setAttribute("for",m.id),m.setAttribute("name",m.id),f.appendChild(m),[c,d,p,f].forEach((t=>{o.appendChild(t)}));const g=a("✔","submit-btn","submit");o.appendChild(g);const y=i("X","cancel-btn","button");return o.appendChild(y),document.querySelector("body").appendChild(o),o},createProjectForm:function(t="New Project"){const e=i("","project-form","form"),n=i("Title","project-title-label","label"),r=a(t,"project-title-input");r.id="title",n.setAttribute("for",r.id),r.setAttribute("name",r.id),n.appendChild(r),e.appendChild(n);const o=a("✔","submit-btn","submit");e.appendChild(o);const c=i("X","cancel-btn","button");return e.appendChild(c),document.querySelector("body").appendChild(e),e},subscriptions:[j.subscribe("newTask",t),j.subscribe("taskRemoved",(function(t,e){const n=document.querySelector(`.task-item[data-id="${e.id}"]`);return n.remove(),n})),j.subscribe("newProject",e),j.subscribe("projectRemoved",(function(t,e){const n=document.querySelector(`.project-item[data-id="${e.id}]`);return n.remove(),n})),j.subscribe("activeProjectChange",n),j.subscribe("updateTaskDOM",(function(t,e){const n=document.querySelector(`.task-item[data-id="${e.id}"]`),r=n.querySelector(".task-title"),o=n.querySelector(".task-desc"),i=n.querySelector(".task-date"),a=n.querySelector(".task-prio select");return r.textContent=e.title,o.textContent=e.desc,i.textContent=e.dueDate,a.value=e.prio,n})),j.subscribe("updateProjectDOM",(function(t,e){const n=document.querySelector(`.project-item[data-id="${e.id}"]`);return n.querySelector(".project-title").textContent=e.title,n}))]};function r(t){return"string"==typeof t&&(t=new Date(t)),t?`${t.getDate()} ${["January","February","March","April","May","June","July","August","October","November","December"][t.getMonth()]} ${t.getFullYear()}`:""}function o(){const t=i("","option-panel");return[i("","edit-btn","button"),i("","delete-btn","button")].forEach((e=>{t.appendChild(e)})),t}function i(t="",e="",n="div"){const r=document.createElement(n);return r.textContent=t,r.className=e,r}function a(t="",e="",n="text"){const r=i("",e,"input");return r.value=t,r.type=n,r}function c(t="",e="",n=!0){const r=i(t,e,"textarea");return r.disabled=n,r}function s(t=[],e="",n=""){const r=i("",e,"select");return t.forEach(((t,e)=>{const n=i(t,"","option");n.value=t,r.appendChild(n)})),r.value=n,r}}(),S=x,w=n(224),C=document.querySelector("#add-task-btn"),O=document.querySelector("#add-project-btn");C.addEventListener("click",(()=>{const t=S.createTaskForm();w.publish("taskFormCreated",t)})),O.addEventListener("click",(()=>{const t=S.createProjectForm();w.publish("projectFormCreated",t)})),S.startUpDOM()})()})();